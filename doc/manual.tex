\documentclass[11pt,a4paper]{article}

\usepackage[left=2cm,text={17cm,24cm},top=3cm]{geometry}
\usepackage[slovak]{babel}
\usepackage[]{opensans}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{times}
\usepackage{cite}
\usepackage{url}
\usepackage{color}
\usepackage[unicode,colorlinks,hyperindex,plainpages=false,urlcolor=black,linkcolor=black,citecolor=black]{hyperref}

\providecommand{\uv}[1]{\quotedblbase #1\textquotedblleft}

\clubpenalty=10000
\widowpenalty=10000

\begin{document} %#################################################################################

%TITLEPAGE
\begin{titlepage}

\begin{center}

	\thispagestyle{empty}

	\textsc {
		\Huge Vysoké učení technické v~Brně\\[0.4em]
		\huge Fakulta informačních technologií
	}\\

	\vspace{\stretch{0.382}}

	{
		\LARGE Síťové aplikace a správa sítí\\[0.4em]
		\Huge POP3 server
	}

	\vspace{\stretch{0.618}}

\end{center}

	{
		\LARGE \today \hfill Adrián Tóth
	}

\end{titlepage}	

%CONTENT
\setlength{\parskip}{0pt}
{\hypersetup{hidelinks}\tableofcontents}
\setlength{\parskip}{0pt}

\newpage %#########################################################################################

\section{Úvod}
Projekt vzťahuje k predmetu \textit{ISA - Sieťové aplikácie a správa sietí}\footnote{\url{https://www.fit.vutbr.cz/study/courses/index.php.en?id=12191}}, kde sme dostali za úlohu naimplementovat \textbf{\textit{POP3 server}}, ďalej označovaný ako \textit{server}. Server je naimplementovaný podľa RFC 1939\footnote{\url{https://www.ietf.org/rfc/rfc1939.txt}} ktorý využíva \textit{BSD sockets} na komunikáciu. Server pracuje so súbormi v jednom priečinku ktorý sa nazýva maildir. Maildir je priečinok ktorý obsahuje ďalšie podpriečinky \textit{new}, \textit{cur} a \textit{tmp}. Všetky súbory v priečinku maildir by mali byť vo formáte IMF podľa RFC 5322\footnote{\url{https://tools.ietf.org/html/rfc5322}}. Server využíva okrem maildiru ešte jeden súbor a to kvôli autentifikácii užívateľa v ktorom sú uložené prihlasovacie údaje.

\section{Popis implementácie}

	K implementácii bol zvolený viacparadigmatový programovací jazyk C++ pretože umožňuje objektovo orientované programovanie. V ďalších podkapitolách bude popísaná samotná implementácia POP3 servera, ktorá popisuje projekt z hľadiska implementácie funkcionality tohto servera, t.j. ako je program delený na logické časti ktoré zaručujú určitú časť funkcionality servera a spolu nasledujúc po sebe tak zaručujú správny beh programu.

	\subsection{Moduly}
	Projekt bol rozdelený na moduly ktoré tvoria určité logické celky.
	\begin{itemize}

		\item \textit{constatns}\\[0.4em]
			Modul obsahujúci konštanty. Tu sa nachádza aj konštanta ktorá reprezentuje znakovú sadu z ktorej sa generuje \textit{unique-id}. Podľa RFC 1939\footnote{\url{https://www.ietf.org/rfc/rfc1939.txt}} \textit{unique-id} pozostáva z ASCII znakov od 0x21 do 0x7E. Server však podporuje všetky tieto znaky okrem znaku 0x2F, t.j. znak \uv{ / }. Znak \uv{ / } sa využíva ako oddeľovací znak v logovacích súboroch. V tomto module sa nachádzajú aj konštanty určujúce veľkosti, názvy.

		\item \textit{argpar}\\[0.4em]
			Modul obsahujúci funkciu na parsovanie vstupných parametrov, funkciu na vypísanie \uv{help} správy na stdout a funkciu na načítanie prihlasovacích údajov zo súbora. Funkcia argpar v závislosti od parametrov inicializuje lokálnu premennú args v popseri. S premennou args sa často pracuje pretože obsahuje všetky informácie ktoré sú potrebné k behu programu. Premenná je objekt vytvorený z triedy Args definovaný v module datatypes.

		\item \textit{checks}\\[0.4em]

		\item \textit{datatypes}\\[0.4em]

		\item \textit{fsm}\\[0.4em]

		\item \textit{logger}\\[0.4em]

		\item \textit{md5}\\[0.4em]

		\item \textit{popser}\\[0.4em]
	\end{itemize}

	\subsection{Inicializácia}
		Pri prvom spustení servera sa vytvoria pomocné globálne premenné ktoré budú riadiť beh celého procesu. Proces využíva tri globálne premenné z ktorých sú dve premenné typu \textit{bool} a zvyšná premenná typu \textit{std::mutex}.

	\subsection{Spracovanie parametrov}
	\subsection{Vytvorenie komunikačného soketu}
	\subsection{Naviazanie spojenia a obsluha}
	\subsection{Prihlásenie používateľa a obsluha}
	\subsection{Odhlásenie používateľa a aktualizácia maildiru}
	\subsection{Vynútené ukončenie servera}

\end{document} %###################################################################################


